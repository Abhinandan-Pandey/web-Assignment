(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{25:function(e,t,n){e.exports={header:"header_header__3d1zD",DrawerToggle:"header_DrawerToggle__1AwJI"}},28:function(e,t,n){e.exports={NavigationItem:"navigationItem_NavigationItem__MDMCy",NavButton:"navigationItem_NavButton__2mn-L"}},29:function(e,t,n){e.exports={text:"notFoundPage_text__LB-sI",redirectButton:"notFoundPage_redirectButton__3WauV"}},42:function(e,t,n){e.exports={NavigationItems:"navigationItems_NavigationItems__1164W"}},44:function(e,t,n){e.exports={SideDrawer:"sideDrawer_SideDrawer__3Kc51"}},45:function(e,t,n){e.exports={Modal:"modal_Modal__1iNyA"}},46:function(e,t,n){},47:function(e,t,n){e.exports={image:"imageUpload_image__2_0z3"}},48:function(e,t,n){},49:function(e,t,n){e.exports={home:"home_home__3VeW-"}},50:function(e,t,n){e.exports={map:"map_map__3mzXz"}},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){e.exports=n(82)},62:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),l=n(15),i=n(3),u=n(41),s=n(14),m=(n(62),n(2)),d=n(25),f=n.n(d);var p=Object(m.f)((function(e){return r.a.createElement("div",{className:f.a.header},r.a.createElement("div",{className:f.a.DrawerToggle,onClick:function(){e.history.push("/")}},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("h1",null,"Heading"))})),g=n(42),E=n.n(g),h=n(28),_=n.n(h),b=function(e){return r.a.createElement("li",{className:_.a.NavigationItem},r.a.createElement("button",{className:_.a.NavButton,onClick:e.action},e.children))},O=n(4),v=n(43),w=n.n(v).a.create({baseURL:"https://web-assignment-10bef.firebaseio.com/"}),j=function(e){return{type:"IMAGE_URL",imageUrl:e}},y=function(e){return{type:"OPEN_MODAL",modalType:e,showModal:!0}},S=Object(i.b)(null,(function(e){return{createStore:function(){return e(y("createStore"))},createOrder:function(){return e(y("createOrder"))}}}))(Object(m.f)((function(e){return r.a.createElement("ul",{className:E.a.NavigationItems},r.a.createElement(b,{action:function(){e.createStore()}},"Create Store"),r.a.createElement(b,{action:function(){e.history.push("/view-stores")}},"Veiw Stores"),r.a.createElement(b,{action:function(){e.createOrder()}},"Create Order"),r.a.createElement(b,{action:function(){e.history.push("/view-orders")}},"Veiw Orders"))}))),D=n(44),N=n.n(D),L=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N.a.SideDrawer},r.a.createElement("nav",null,r.a.createElement(S,null))))},M=n(45),T=n.n(M),C=n(13),I=n(11),R=n(46),x=n.n(R),k=n(20),U=n.n(k);n(83);U.a.initializeApp({apiKey:"AIzaSyDqeXjPGmCVCl7W3v5sq16FcxhReTHQfyg",authDomain:"web-assignment-10bef.firebaseapp.com",databaseURL:"https://web-assignment-10bef.firebaseio.com",projectId:"web-assignment-10bef",storageBucket:"web-assignment-10bef.appspot.com",messagingSenderId:"225573359017",appId:"1:225573359017:web:ffc0dcb66ef0d4a9f8c8b8",measurementId:"G-28GGLCJ0P4"});var A=U.a.storage(),P=n(47),B=n.n(P),F=Object(i.b)(null,(function(e){return{storePicUrl:function(t){return e(j(t))}}}))((function(e){var t=Object(a.useState)(),n=Object(I.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(),i=Object(I.a)(l,2),u=i[0],s=i[1],m=e.storePicUrl,d=Object(a.useRef)(),f=Object(a.useCallback)((function(){A.ref("images/".concat(u.name)).put(u).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){A.ref("images").child(u.name).getDownloadURL().then((function(e){var t=e;console.log(t,"dddd"),m(t)}))}))}),[m,u]);return Object(a.useEffect)((function(){if(u){var e=new FileReader;e.onload=function(){c(e.result)},e.readAsDataURL(u),f()}}),[u,f]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:B.a.image},o&&r.a.createElement("img",{src:o,alt:"Preview"}),r.a.createElement("input",{id:e.id,ref:d,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){var t;e.target.files&&1===e.target.files.length&&(t=e.target.files[0],s(t))}})),r.a.createElement("button",{className:"img-button",onClick:function(e){e.preventDefault(),d.current.click()}},"Upload Store Pic"))})),z=Object(i.b)((function(e){return{store_image:e.imageUrl,id:e.stores.length}}),(function(e){return{storePicUrl:function(t){return e(j(t))},createStore:function(t){return e((n=t,function(e){w.post("stores.json",n).then((function(t){console.log(t.data,"resdata");var a=Object(O.a)({},n,{store_id:t.data.name});console.log(a,"storeupdate"),e(function(e){return{type:"UPDATE_STORE",storeData:e}}(a)),e({type:"CLOSE_MODAL",modalType:"",showModal:!1})})).catch((function(e){return console.log(e)}))}));var n},closeModal:function(){return e({type:"CLOSE_MODAL",modalType:"",showModal:!1})}}}))((function(e){var t=Object(a.useState)({store_name:"",lat:"",long:""}),n=Object(I.a)(t,2),o=n[0],c=n[1],l=function(e,t){c(Object(O.a)({},o,Object(C.a)({},t,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:x.a.closeButton,onClick:function(){e.closeModal()}},"X"),r.a.createElement("form",null,r.a.createElement(F,null),r.a.createElement("input",{placeholder:"Store Name",value:o.store_name,onChange:function(e){l(e,"store_name")}}),r.a.createElement("input",{placeholder:"Store Latitude",value:o.lat,onChange:function(e){l(e,"lat")}}),r.a.createElement("input",{placeholder:"Store Longitude",value:o.long,onChange:function(e){l(e,"long")}}),r.a.createElement("button",{onClick:function(t){t.preventDefault();var n={id:e.id,store_image:e.store_image,store_name:o.store_name,lat:o.lat,long:o.long};console.log(n,"data"),e.createStore(n)}},"Submit")))})),G=n(48),V=n.n(G),W=Object(i.b)((function(e){return{id:e.orders.length,orders:e.orders,stores:e.stores}}),(function(e){return{closeModal:function(){return e({type:"CLOSE_MODAL",modalType:"",showModal:!1})},createOrder:function(t){return e(function(e){return function(t){w.post("orders.json",e).then((function(n){console.log(n.data,"resdata"),console.log(Object.keys(n.data),"resdata"),t(function(e){return{type:"UPDATE_ORDER",orderData:e}}(e)),t({type:"CLOSE_MODAL",modalType:"",showModal:!1})})).catch((function(e){return console.log(e)}))}}(t))}}}))((function(e){var t=Object(a.useState)({order_amount:0,store_id:""}),n=Object(I.a)(t,2),o=n[0],c=n[1],l=function(e,t){c(Object(O.a)({},o,Object(C.a)({},t,e.target.value)))},i=e.orders.length,u=e.stores.map((function(e){return r.a.createElement("option",{value:e.store_id,key:e.store_id},e.store_name)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:V.a.closeButton,onClick:function(){e.closeModal()}},"X"),r.a.createElement("form",null,r.a.createElement("select",{placeholder:"store_id",value:o.store_id,onChange:function(e){l(e,"store_id")}},r.a.createElement("option",null,"Select"),u),r.a.createElement("input",{placeholder:"order_number",value:i,onChange:function(){}}),r.a.createElement("input",{type:"number",placeholder:"order_amount",value:o.order_amount,onChange:function(e){l(e,"order_amount")}}),r.a.createElement("button",{onClick:function(t){t.preventDefault();var n={id:e.orders.length,store_id:o.store_id,order_number:e.orders.length,order_amount:o.order_amount};console.log(n,"data"),e.createOrder(n)}},"Submit")))})),X=Object(i.b)((function(e){return{type:e.modalType,show:e.showModal}}))((function(e){return r.a.createElement("div",{className:T.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},"createStore"===e.type?r.a.createElement(z,null):r.a.createElement(W,null))})),J=function(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(p,null),r.a.createElement("div",{style:{display:"flex",marginTop:"60px"}},r.a.createElement(L,null),r.a.createElement(X,null),e.children))},H=n(49),q=n.n(H),K=n(50),Y=n.n(K),Q=function(e){var t=Object(a.useRef)(),n=e.center,o=e.zoom;return Object(a.useEffect)((function(){new window.ol.Map({target:t.current.id,layers:[new window.ol.layer.Tile({source:new window.ol.source.OSM})],view:new window.ol.View({center:window.ol.proj.fromLonLat([n.lng,n.lat]),zoom:o})})}),[n,o]),r.a.createElement("div",{ref:t,className:Y.a.map,id:"map"})},$=function(e){return r.a.createElement("div",{className:q.a.home},r.a.createElement(Q,{center:{lng:88.3425,lat:22.5449},zoom:18}))},Z=n(51),ee=n.n(Z),te=Object(i.b)((function(e){return{orders:e.orders}}))((function(e){return r.a.createElement("ul",null,e.orders.map((function(e){return r.a.createElement("li",{className:ee.a.ordersList,key:e.id},"Order Id : ",e.id," Order Amount : ",e.order_amount)})))})),ne=n(52),ae=n.n(ne),re=Object(i.b)((function(e){return{stores:e.stores}}))((function(e){return r.a.createElement("ul",null,e.stores.map((function(e){return r.a.createElement("li",{className:ae.a.storesList,key:e.id},"Store Name : ",e.store_name)})))})),oe=n(29),ce=n.n(oe);var le=function(e){return r.a.createElement("div",{className:ce.a.text},r.a.createElement("b",null," 404-Page Not Found"),r.a.createElement("button",{className:ce.a.redirectButton,onClick:function(){return e.history.push("/home")}},"Go To Homepage"))};var ie=Object(i.b)(null,(function(e){return{fetchStores:function(){return e((function(e){w.get("stores.json").then((function(t){var n=[];Object.keys(t.data).map((function(e){return n.push(Object(O.a)({},t.data[e],{store_id:e}))})),console.log(n,"storelist"),e({type:"STORE_LIST",stores:n})})).catch((function(e){return console.log(e)}))}))},fetchOrders:function(){return e((function(e){w.get("orders.json").then((function(t){var n=[];Object.keys(t.data).map((function(e){return n.push(Object(O.a)({},t.data[e]))})),console.log(n,"orderlist"),e({type:"ORDER_LIST",orders:n})})).catch((function(e){return console.log(e)}))}))}}}))((function(e){var t=r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:$}),r.a.createElement(m.a,{exact:!0,path:"/home",component:$}),r.a.createElement(m.a,{exact:!0,path:"/view-orders",component:te}),r.a.createElement(m.a,{exact:!0,path:"/view-stores",component:re}),r.a.createElement(m.a,{component:le})),n=e.fetchStores,o=e.fetchOrders;return Object(a.useEffect)((function(){n(),o()}),[n,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null,t))})),ue={showModal:!1,modalType:"",imageUrl:"",stores:[],orders:[]},se=function(e,t){return Object(O.a)({},e,{imageUrl:t.imageUrl})},me=function(e,t){return Object(O.a)({},e,{showModal:!0,modalType:t.modalType})},de=function(e,t){return Object(O.a)({},e,{showModal:!1,modalType:""})},fe=function(e,t){return Object(O.a)({},e,{stores:t.stores})},pe=function(e,t){return Object(O.a)({},e,{orders:t.orders})},ge=function(e,t){return Object(O.a)({},e,{stores:e.stores.concat(t.storeData)})},Ee=function(e,t){return Object(O.a)({},e,{orders:e.orders.concat(t.orderData)})},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_URL":return se(e,t);case"OPEN_MODAL":return me(e,t);case"CLOSE_MODAL":return de(e);case"STORE_LIST":return fe(e,t);case"ORDER_LIST":return pe(e,t);case"UPDATE_STORE":return ge(e,t);case"UPDATE_ORDER":return Ee(e,t);default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,be=Object(s.d)(he,_e(Object(s.a)(u.a))),Oe=r.a.createElement(i.a,{store:be},r.a.createElement(l.a,null,r.a.createElement(ie,null)));c.a.render(r.a.createElement(r.a.StrictMode,null,Oe),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.69e98b9c.chunk.js.map